
Cookie1 = 'SESSION=f1ab7716-464b-4d07-ae2c-abdcbf6393fc; _ga_1ESVLDHDYL=GS1.1.1726503021.3.0.1726503021.0.0.0; _abfpc=d7760a7e8d00953eaa18b111273b00d6ad83f1cc_2.0; cna=eac1e178d67b00529df2b287b5842f2c; Hm_lvt_378ff17a1ac046691cf78376632d1ed4=1754900658,1754926580,1754968150,1755336169; HMACCOUNT=CEB955474E107530; _gid=GA1.2.673435621.1755336171; aliyungf_tc=381b65c7bf5e33a28934635c52a319dc208ae8ab6996f4cf545540db2f21ee5e; XSRF-CCKTOKEN=65e7b23d67340e1d3421ad33a00db022; CHSICC_CLIENTFLAGNCSS=2a7cc2196a2248bf95464b41fd385468; CHSICC01=!V9R9cMFU3JQ6WlDzYxYLahOzddj6YwKKjvF/vTkNexOMNHIzi7sYTkLG/GFZ9Yuon+OI9EDiv+I3EFw=; CHSICC_CLIENTFLAGSTUDENT=afe4efd20cab18c46368eec6df24c438; JSESSIONID=4EE904A53A095930C10C9B7C671F5C2B; acw_tc=ac11000117553464121098793e776bca62a68ad4aa1be51544f5592aca233a; _gat_gtag_UA_105074615_1=1; _ga=GA1.2.9872932.1721044376; Hm_lpvt_378ff17a1ac046691cf78376632d1ed4=1755348017; _ga_6CXWRD3K0D=GS2.1.s1755344385$o37$g1$t1755348030$j36$l0$h0'
Cookie2 = 'SESSION=7064b9e1-c205-4728-9b63-485e64e43cea; _ga_1ESVLDHDYL=GS1.1.1726503021.3.0.1726503021.0.0.0; _abfpc=d7760a7e8d00953eaa18b111273b00d6ad83f1cc_2.0; cna=eac1e178d67b00529df2b287b5842f2c; _gid=GA1.2.673435621.1755336171; aliyungf_tc=bfc4565f794c9e6ac253a5c09f4a937f2afb69e01fc7b413d486aaeaadf06249; acw_tc=1a0c398517554114742592496e9aa32794b6f0eb67700f5fd82146300490b4; JSESSIONID=E7FDF5D0B39536176BCA6EEDA1DABBA9; XSRF-CCKTOKEN=a12b3436b08549ba2f33a4aefa9a1454; CHSICC_CLIENTFLAGNCSS=aba5b818eaa8bc94d6fb1ddf17d1df4f; CHSICC01=!DzrVNB/pHD1H78bzYxYLahOzddj6Y4XQ6NJ5RnOPIOyzHzKixC+5X5WINIjztT+S4x5PGaf/cowaI/Q=; CHSICC_CLIENTFLAGSTUDENT=5d0ab9cce044f18a699886e7d6705555; Hm_lvt_378ff17a1ac046691cf78376632d1ed4=1754926580,1754968150,1755336169,1755411478; HMACCOUNT=CEB955474E107530; _gat_gtag_UA_105074615_1=1; Hm_lpvt_378ff17a1ac046691cf78376632d1ed4=1755411501; _ga=GA1.1.9872932.1721044376; _ga_6CXWRD3K0D=GS2.1.s1755411478$o39$g1$t1755411519$j19$l0$h0'
Cookie3 = 'SESSION=7064b9e1-c205-4728-9b63-485e64e43cea; _ga_1ESVLDHDYL=GS1.1.1726503021.3.0.1726503021.0.0.0; _abfpc=d7760a7e8d00953eaa18b111273b00d6ad83f1cc_2.0; cna=eac1e178d67b00529df2b287b5842f2c; _gid=GA1.2.673435621.1755336171; aliyungf_tc=bfc4565f794c9e6ac253a5c09f4a937f2afb69e01fc7b413d486aaeaadf06249; acw_tc=1a0c398517554114742592496e9aa32794b6f0eb67700f5fd82146300490b4; JSESSIONID=E7FDF5D0B39536176BCA6EEDA1DABBA9; XSRF-CCKTOKEN=a12b3436b08549ba2f33a4aefa9a1454; CHSICC_CLIENTFLAGNCSS=aba5b818eaa8bc94d6fb1ddf17d1df4f; CHSICC01=!DzrVNB/pHD1H78bzYxYLahOzddj6Y4XQ6NJ5RnOPIOyzHzKixC+5X5WINIjztT+S4x5PGaf/cowaI/Q=; CHSICC_CLIENTFLAGSTUDENT=5d0ab9cce044f18a699886e7d6705555; Hm_lvt_378ff17a1ac046691cf78376632d1ed4=1754926580,1754968150,1755336169,1755411478; HMACCOUNT=CEB955474E107530; Hm_lpvt_378ff17a1ac046691cf78376632d1ed4=1755411661; _ga=GA1.1.9872932.1721044376; _ga_6CXWRD3K0D=GS2.1.s1755411478$o39$g1$t1755411789$j60$l0$h0'
Cookie4 = 'SESSION=e88ec1a0-6b5c-42e8-a876-185ed9c14bcb; _ga_1ESVLDHDYL=GS1.1.1726503021.3.0.1726503021.0.0.0; _abfpc=d7760a7e8d00953eaa18b111273b00d6ad83f1cc_2.0; cna=eac1e178d67b00529df2b287b5842f2c; _gid=GA1.2.673435621.1755336171; aliyungf_tc=bfc4565f794c9e6ac253a5c09f4a937f2afb69e01fc7b413d486aaeaadf06249; JSESSIONID=E7FDF5D0B39536176BCA6EEDA1DABBA9; XSRF-CCKTOKEN=a12b3436b08549ba2f33a4aefa9a1454; CHSICC_CLIENTFLAGNCSS=aba5b818eaa8bc94d6fb1ddf17d1df4f; CHSICC01=!DzrVNB/pHD1H78bzYxYLahOzddj6Y4XQ6NJ5RnOPIOyzHzKixC+5X5WINIjztT+S4x5PGaf/cowaI/Q=; CHSICC_CLIENTFLAGSTUDENT=5d0ab9cce044f18a699886e7d6705555; Hm_lvt_378ff17a1ac046691cf78376632d1ed4=1754926580,1754968150,1755336169,1755411478; HMACCOUNT=CEB955474E107530; acw_tc=ac11000117554230396983911ee7b259a823321b52a20a878c0b42ee677273; Hm_lpvt_378ff17a1ac046691cf78376632d1ed4=1755423496; _ga=GA1.2.9872932.1721044376; _ga_6CXWRD3K0D=GS2.1.s1755423039$o40$g1$t1755423526$j60$l0$h0'
Cookie5 = 'SESSION=e88ec1a0-6b5c-42e8-a876-185ed9c14bcb; _ga_1ESVLDHDYL=GS1.1.1726503021.3.0.1726503021.0.0.0; _abfpc=d7760a7e8d00953eaa18b111273b00d6ad83f1cc_2.0; cna=eac1e178d67b00529df2b287b5842f2c; _gid=GA1.2.673435621.1755336171; aliyungf_tc=bfc4565f794c9e6ac253a5c09f4a937f2afb69e01fc7b413d486aaeaadf06249; JSESSIONID=E7FDF5D0B39536176BCA6EEDA1DABBA9; XSRF-CCKTOKEN=a12b3436b08549ba2f33a4aefa9a1454; CHSICC_CLIENTFLAGNCSS=aba5b818eaa8bc94d6fb1ddf17d1df4f; CHSICC01=!DzrVNB/pHD1H78bzYxYLahOzddj6Y4XQ6NJ5RnOPIOyzHzKixC+5X5WINIjztT+S4x5PGaf/cowaI/Q=; CHSICC_CLIENTFLAGSTUDENT=5d0ab9cce044f18a699886e7d6705555; Hm_lvt_378ff17a1ac046691cf78376632d1ed4=1754926580,1754968150,1755336169,1755411478; HMACCOUNT=CEB955474E107530; acw_tc=ac11000117554230396983911ee7b259a823321b52a20a878c0b42ee677273; Hm_lpvt_378ff17a1ac046691cf78376632d1ed4=1755423229; _ga=GA1.2.9872932.1721044376; _gat_gtag_UA_105074615_1=1; _ga_6CXWRD3K0D=GS2.1.s1755423039$o40$g1$t1755423238$j50$l0$h0'
Cookie6 = 'SESSION=f41d815f-38c2-4bff-97b3-0f9144e62632; _ga_1ESVLDHDYL=GS1.1.1726503021.3.0.1726503021.0.0.0; _abfpc=d7760a7e8d00953eaa18b111273b00d6ad83f1cc_2.0; cna=eac1e178d67b00529df2b287b5842f2c; _gid=GA1.2.673435621.1755336171; aliyungf_tc=bfc4565f794c9e6ac253a5c09f4a937f2afb69e01fc7b413d486aaeaadf06249; XSRF-CCKTOKEN=a12b3436b08549ba2f33a4aefa9a1454; CHSICC_CLIENTFLAGNCSS=aba5b818eaa8bc94d6fb1ddf17d1df4f; CHSICC01=!DzrVNB/pHD1H78bzYxYLahOzddj6Y4XQ6NJ5RnOPIOyzHzKixC+5X5WINIjztT+S4x5PGaf/cowaI/Q=; CHSICC_CLIENTFLAGSTUDENT=5d0ab9cce044f18a699886e7d6705555; Hm_lvt_378ff17a1ac046691cf78376632d1ed4=1754926580,1754968150,1755336169,1755411478; HMACCOUNT=CEB955474E107530; acw_tc=ac11000117554230396983911ee7b259a823321b52a20a878c0b42ee677273; JSESSIONID=494713EED3467BACA8AC7911B31F79BC; Hm_lpvt_378ff17a1ac046691cf78376632d1ed4=1755424247; _gat_gtag_UA_105074615_1=1; _ga=GA1.1.9872932.1721044376; _ga_6CXWRD3K0D=GS2.1.s1755423039$o40$g1$t1755424253$j53$l0$h0'
Cookie7 = 'SESSION=9392b410-1729-497f-9df5-b21ca5c10b3a; XSRF-CCKTOKEN=674ae4326590745e97ce34c6113c46ef; aliyungf_tc=139fe08ba2fc7cb421ef13c4ed280ba561a43ba24a91aea87d5f4a79df2f1389; acw_tc=ac11000117555195356648037e17ceb24d5de53359595633e1879a2dce7888; CHSICC_CLIENTFLAGSTUDENT=9d55181cea30338295dfe30381bb853e; CHSICC01=!UG6dZktAiz99Bg/zYxYLahOzddj6Y+Z2/YwgUz5JvhT+jSMk8T4c51T10knEWalY/JQQ4YSHe8ljImA=; _abfpc=6c22dc2a3d0e94912252558bfd77bf746ca30584_2.0; Hm_lvt_378ff17a1ac046691cf78376632d1ed4=1755519536; HMACCOUNT=512C18B4D32F708A; _gid=GA1.2.1325724907.1755519536; cna=d82cb4028e8f25d38c75ee63523e4079; _ga=GA1.2.1949449039.1755519536; Hm_lpvt_378ff17a1ac046691cf78376632d1ed4=1755519822; _ga_6CXWRD3K0D=GS2.1.s1755519536$o1$g1$t1755519865$j12$l0$h0'
from difflib import  SequenceMatcher
#将Cookie进行切割
def Cookie_split(Cookie):
    fragments = Cookie.split("; ")
    dic = {}
    for fragment in fragments:
        key,value = fragment.split('=',1)
        dic[key] = value
    return dic


def compare_strings(str1,str2):
    matcher = SequenceMatcher(None,str1,str2)
    for op , i1 , i2 ,j1 ,j2 in matcher.get_opcodes():
        if op == 'replace':
            print(f"在位置{i1}替换了“{str1[i1:i2]}”为“{str2[j1:j2]}”")
        elif op == 'delete':
            print(f"在位置{i1}删除了“{str1[i1:i2]}”")
        elif op == 'insert':
            print(f"在位置{i1}插入了“{str1[i1:i2]}”")

#Cookie比较
def Cookie_compare(Cookie1,Cookie2):
    """比较两个Cookie的差别"""
    cookie_dic1 = Cookie_split(Cookie1)
    cookie_dic2 = Cookie_split(Cookie2)

    key_list1 = cookie_dic1.keys()
    key_list2 = cookie_dic2.keys()
    print(key_list1)
    print(key_list2)

    # Cookie中属性的比较
    diff = list(set(key_list1) ^ set(key_list2))
    if diff == []:
        print("两个Cookie在属性上一致")
        for key in key_list1:
            print(f"|--------------------------{key}的差异点-------------------------|")
            compare_strings(cookie_dic1[key],cookie_dic2[key])
            print(f"|--------------------------------------------------------------|")

    else:
        print(f"两个Cookie的属性差异：{diff}")
        same_attribute = list(set(key_list1) & set(key_list2))
        for key in same_attribute:
            print(f"|--------------------------{key}的差异点-------------------------|")
            compare_strings(cookie_dic1[key],cookie_dic2[key])
            print(f"|--------------------------------------------------------------|")


if __name__ == "__main__":
    Cookie_compare(Cookie6,Cookie7)

